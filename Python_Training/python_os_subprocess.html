<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.4.5.2 (Linux)"/>
	<meta name="created" content="2020-04-09T22:39:19"/>
	<meta name="changed" content="2020-09-05T10:14:48.993503594"/>
	<style type="text/css">
		@page { size: 21.59cm 27.94cm; margin: 2cm }
		p { margin-bottom: 0.25cm; direction: ltr; color: #000000; line-height: 115%; text-align: left; orphans: 2; widows: 2; background: transparent }
		p.western { font-family: "Liberation Serif", serif; font-size: 12pt; so-language: ru-RU }
		p.cjk { font-family: "AR PL New Sung"; font-size: 12pt; so-language: zh-CN }
		p.ctl { font-family: "DejaVu Sans"; font-size: 12pt; so-language: hi-IN }
		h1 { margin-bottom: 0.21cm; direction: ltr; color: #000000; text-align: left; orphans: 2; widows: 2; background: transparent; page-break-after: avoid }
		h1.western { font-family: "Liberation Serif", serif; font-size: 24pt; so-language: ru-RU; font-weight: bold }
		h1.cjk { font-family: "AR PL New Sung"; font-size: 24pt; so-language: zh-CN; font-weight: bold }
		h1.ctl { font-family: "DejaVu Sans"; font-size: 24pt; so-language: hi-IN; font-weight: bold }
		h3 { margin-top: 0.25cm; margin-bottom: 0.21cm; direction: ltr; color: #000000; text-align: left; orphans: 2; widows: 2; background: transparent; page-break-after: avoid }
		h3.western { font-family: "Liberation Serif", serif; font-size: 14pt; so-language: ru-RU; font-weight: bold }
		h3.cjk { font-family: "AR PL New Sung"; font-size: 14pt; so-language: zh-CN; font-weight: bold }
		h3.ctl { font-family: "DejaVu Sans"; font-size: 14pt; so-language: hi-IN; font-weight: bold }
		pre { direction: ltr; color: #000000; text-align: left; orphans: 2; widows: 2; background: transparent }
		pre.western { font-family: "Liberation Mono", monospace; font-size: 10pt; so-language: ru-RU }
		pre.cjk { font-family: "Liberation Mono", monospace; font-size: 10pt; so-language: zh-CN }
		pre.ctl { font-family: "Liberation Mono", monospace; font-size: 10pt; so-language: hi-IN }
		h4 { margin-top: 0.21cm; margin-bottom: 0.21cm; direction: ltr; color: #000000; text-align: left; orphans: 2; widows: 2; background: transparent; page-break-after: avoid }
		h4.western { font-family: "Liberation Serif", serif; font-size: 12pt; so-language: ru-RU; font-weight: bold }
		h4.cjk { font-family: "AR PL New Sung"; font-size: 12pt; so-language: zh-CN; font-weight: bold }
		h4.ctl { font-family: "DejaVu Sans"; font-size: 12pt; so-language: hi-IN; font-weight: bold }
		code { font-family: "Liberation Mono", monospace }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
	</style>
</head>
<body lang="ru-RU" text="#000000" link="#000080" vlink="#800000" dir="ltr"><h1 class="western" align="left" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal">
<font face="Open Sans, sans-serif"><font size="6" style="font-size: 27pt">Выполнение
shell команд с Python&nbsp;</font></font></h1>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Повторяющиеся
задачи созрели для автоматизации.&nbsp;Разработчики
и системные администраторы обычно
автоматизируют рутинные задачи, такие
как проверки работоспособности и
резервное копирование файлов, с помощью
сценариев оболочки.&nbsp;Однако, поскольку
эти задачи становятся более сложными,
сценарии оболочки могут усложняться в
обслуживании.</font></font></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">К
счастью, мы можем использовать Python
вместо сценариев оболочки для
автоматизации.&nbsp;Python предоставляет
методы для запуска команд оболочки,
предоставляя нам ту же функциональность,
что и сценарии оболочки.&nbsp;Изучение
того, как выполнять команды оболочки в
Python, открывает нам возможность
автоматизировать компьютерные задачи
структурированным и масштабируемым
образом.</font></font></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">В
этой статье мы рассмотрим различные
способы выполнения команд оболочки в
Python и идеальную ситуацию для использования
каждого метода.</font></font></p>
<h3 class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Использование
os.system для запуска команды</font></font></h3>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Python
позволяет нам немедленно выполнить
команду оболочки, которая хранится в
строке, используя&nbsp;функцию&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Давайте
начнем с создания нового файла Python с
именем&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>echo_adelle.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;и
введите следующее:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> os</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">os.</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">system</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">(&quot;echo Hello from the other side!&quot;)</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Первое,
что мы делаем в нашем Python файле, это
импортируем&nbsp;модуль&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
который содержит&nbsp;функцию&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>system</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
которая может выполнять команды
оболочки.&nbsp;Следующая строка делает
именно это, запускает&nbsp;команду&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>echo</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;в
нашей оболочке через Python.</span></span></span></font></font></font></span></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">В
вашем терминале запустите этот файл с
помощью следующей команды, и вы должны
увидеть соответствующий вывод:</font></font></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">$ python3 echo_adelle.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">Hello from the other side!</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">По
мере того, как&nbsp;команды&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>echo</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;выводятся
в наш&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stdout</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;также
возвращает код завершения команды
оболочки.&nbsp;Код 0 означает, что он
работает без проблем, а любое другое
число означает ошибку.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Давайте
создадим новый файл с именем&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>cd_return_codes.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;и
введите следующее:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import os</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">home_dir = os.system(</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;cd ~&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">(</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;`cd ~` ran with exit code %d&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> % home_dir)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">unknown_dir = os.system(</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;cd doesnotexist&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">(</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;`cd doesnotexis` ran with exit code %d&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> % unknown_dir)</span></span></span></span></font></font></font></span></code></pre><p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">В
этом сценарии мы создаем две переменные,
в которых хранятся результаты выполнения
команд, которые изменяют каталог на
домашнюю папку и на несуществующую
папку.&nbsp;Запустив этот файл, мы увидим:</font></font></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">$ python3 cd_return_codes.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">`cd ~` ran with exit code 0</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">sh: line 0: cd: doesnotexist: No such file or directory</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">`cd doesnotexist` ran with exit code 256</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Первая
команда, которая изменяет каталог на
домашний каталог, выполняется
успешно.&nbsp;Следовательно,&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;возвращает
код ноль, который хранится в&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>home_dir</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.&nbsp;С
другой стороны,&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>unknown_dir</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;сохраняет
код завершения неудачной команды bash,
чтобы изменить каталог на несуществующую
папку.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Функция&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;выполняет
команду, печатает любой вывод команды
на консоль и возвращает код завершения
команды.&nbsp;Если нам нужно более детальное
управление вводом и выводом команды
оболочки в Python, мы должны
использовать&nbsp;модуль&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.</span></span></span></font></font></font></span></p>
<h3 class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Выполнение
команды с подпроцессом</font></font></h3>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Модуль&nbsp;</span></span></span></font></font></font></span><a href="https://docs.python.org/3/library/subprocess.html" target="_blank"><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent">subprocess</span></span></span></span></font></font></font></span></a><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;-
это рекомендуемый Python способ выполнения
команд оболочки.&nbsp;Это дает нам гибкость
для подавления вывода команд оболочки
или цепочки входов и выходов различных
команд вместе, в то же время обеспечивая
аналогичный опыт&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;для
базовых сценариев использования.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">В
новом файле с&nbsp;именем&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>list_subprocess.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;напишите
следующий код:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> subprocess</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">list_files = subprocess.run([</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;ls&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">, </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;-l&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">])</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#e6c07b"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">(</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;The exit code was: %d&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> % list_files.returncode)</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">В
первой строке мы импортируем&nbsp;модуль&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
который является частью стандартной
библиотеки Python.&nbsp;Затем мы используем
функцию&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;для
выполнения команды.&nbsp;Также как и
команда&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;возвращает
код того, что было выполнено.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Обратите
внимание, что&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;принимает
список строк в качестве входных данных
вместо одной строки.&nbsp;Первым элементом
списка является название команды.&nbsp;Остальные
пункты списка - это флаги и аргументы
команды.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Примечание:&nbsp;Как
правило, вам нужно отделить аргументы
,&nbsp;основанные на пространстве, например
,&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>ls
-alh</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;будет&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>[&quot;ls&quot;,
&quot;-alh&quot;]</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
а&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>ls
-a -l -h</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
превратится в&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>[&quot;ls&quot;,
&quot;-a&quot;, -&quot;l&quot;, &quot;-h&quot;]</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.</span></span></span></font></font></font></span></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Запустите
этот файл, и вывод вашей консоли будет
похож на:</font></font></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">$ python3 list_subprocess.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">total 80</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">-rw-r--r--@ 1 stackabuse  staff    216 Dec  6 10:29 cd_return_codes.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">-rw-r--r--@ 1 stackabuse  staff     56 Dec  6 10:11 echo_adelle.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">-rw-r--r--@ 1 stackabuse  staff    116 Dec  6 11:20 list_subprocess.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">The exit code was: 0</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Теперь
давайте попробуем использовать одну
из более продвинутых функций&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
а именно игнорирование вывода в&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stdout</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.&nbsp;В
том же файле&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>list_subprocess.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;измените:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">list_files = subprocess.run([</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;ls&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">, </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;-l&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">])</span></span></span></span></font></font></font></span></code></pre><p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">на</font></font></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">list_files = subprocess.run([</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;ls&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">, </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#98c379"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">&quot;-l&quot;</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">], stdout=subprocess.DEVNULL)</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Стандартный
вывод команды теперь передается на
специальное устройство&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>/dev/null</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
что означает, что вывод не будет
отображаться на наших консолях. Запустите
файл в вашей оболочке, чтобы увидеть
следующий вывод:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">$ python3 list_subprocess.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">The exit code was: 0</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Что
если мы хотим получить результат
команды?&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;поможет
сделать это.&nbsp;Создайте новый файл с
именем&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>cat_subprocess.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
набрав следующее:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> subprocess</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">useless_cat_call = subprocess.run([&quot;cat&quot;], stdout=subprocess.PIPE, </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#d19a66"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">text</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">=</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">True</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">, input=&quot;Hello from the other side&quot;)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print(useless_cat_call.stdout)  # Hello </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">from</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> the other side</span></span></span></span></font></font></font></span></code></pre><p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Мы
используем&nbsp;довольно много параметров,
давайте рассмотрим их:</font></font></p>
<ol>
	<li><p class="western" style="margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stdout=subprocess.PIPE</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;говорит
	Python перенаправить результат выполнения
	команды в объект, чтобы позже его можно
	было прочитать вручную</span></span></span></font></font></font></span></p>
	<li><p class="western" style="margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>text=True</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;возвращает&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stdout</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;и
	в&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stderr</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;виде
	строк.&nbsp;Тип возвращаемого значения
	по умолчанию - байты.</span></span></span></font></font></font></span></p>
	<li><p class="western" style="margin-right: 0.03cm; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>input=&quot;Hello
	from the other side&quot;</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;говорит
	Python добавить строку в качестве ввода
	в команду&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>cat</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.</span></span></span></font></font></font></span></p>
</ol>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Запуск
этого файла приводит к следующему
выводу:</font></font></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">Hello from the other side</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Мы
также можем бросить&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>Exception</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;без
проверки значения возврата.&nbsp;В новом
файле&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>false_subprocess.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;добавьте
код ниже:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> subprocess</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">failed_command = subprocess.run([&quot;false&quot;], </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">check</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">=</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">True</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print(&quot;The exit code was: %d&quot; % failed_command.returncode)</span></span></span></span></font></font></font></span></code></pre><p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">В
вашем терминале запустите этот файл.&nbsp;Вы
увидите следующую ошибку:</font></font></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">$ python3 false_subprocess.py</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">Traceback (most recent call last):</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><span style="letter-spacing: normal"><span style="background: #2b2b2b">  </span></span></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">File &quot;false_subprocess.py&quot;, line 4, in </span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><span style="letter-spacing: normal"><span style="background: #2b2b2b">    </span></span></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">failed_command = subprocess.run([&quot;false&quot;], check=True)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><span style="letter-spacing: normal"><span style="background: #2b2b2b">  </span></span></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">File &quot;/usr/local/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/subprocess.py&quot;, line 512, in run</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><span style="letter-spacing: normal"><span style="background: #2b2b2b">    </span></span></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">output=stdout, stderr=stderr)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">subprocess.CalledProcessError: Command '['false']' returned non-zero exit status 1.</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Используя&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>check=True</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
мы сообщаем Python, что нужно вызывать
любые исключения, если возникает
ошибка.&nbsp;Так как мы столкнулись с
ошибкой,&nbsp;оператор&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>print</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;в
последней строке не был выполнен.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Функция&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;дает
нам огромную гибкость.&nbsp;Эта функция
представляет собой упрощенную
абстракцию&nbsp;класса&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
которая предоставляет дополнительные
функциональные возможности, которые
мы можем исследовать.</span></span></span></font></font></font></span></p>
<h3 class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Выполнение
команды с Popen</font></font></h3>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Класс&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;предоставляет
больше возможностей для разработчика
при взаимодействии с оболочкой.&nbsp;Тем
не менее, мы должны быть более точными
в получении результатов и ошибок</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">По
умолчанию&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;не
останавливает обработку программы
Python, если ее команда не завершила
выполнение.&nbsp;В новом файле с
именем&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>list_popen.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;введите
следующее:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> subprocess</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">list_dir = subprocess.Popen([&quot;ls&quot;, &quot;-l&quot;])</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">list_dir.wait()</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Этот
код эквивалентен&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>list_subprocess.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.&nbsp;Он
запускает команду с помощью&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;и
ожидает ее завершения, прежде чем
выполнить оставшуюся часть сценария
Python.</span></span></span></font></font></font></span></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Допустим,
мы не хотим ждать завершения выполнения
команды оболочки, чтобы программа могла
работать над другими вещами.&nbsp;Как
узнать, когда команда оболочки закончила
выполнение?</font></font></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Метод&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>poll()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;возвращает
код завершения,&nbsp;если команда закончит
работу, или&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>None</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;если
он все еще выполняется.&nbsp;Например,
если бы мы хотели проверить,&nbsp;завершено
ли&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>list_dir</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
а не ждать его, у нас была бы следующая
строка кода:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#e06c75"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">list_dir</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#d19a66"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">.poll</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">()</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Для
управления вводом и выводом&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;нам
нужно использовать метод&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>communicate()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">В
новый файл с именем&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>cat_popen.py</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;добавьте
следующий фрагмент кода:</span></span></span></font></font></font></span></p>
<pre class="western" style="border: none; padding: 0cm; orphans: 2; widows: 2; background: #2b2b2b"><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">import</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b"> subprocess</span></span></span></span></font></font></font></span></code>

<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">useless_cat_call = subprocess.Popen([&quot;cat&quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE, </span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#d19a66"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">text</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">=</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#c678dd"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">True</span></span></span></span></font></font></font></span></code><code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">output, errors = useless_cat_call.communicate(input=&quot;Hello from the other side!&quot;)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">useless_cat_call.wait()</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print(output)</span></span></span></span></font></font></font></span></code>
<code><span style="font-variant: normal"><font color="#b7b7b7"><font face="monospace, monospace"><font size="2" style="font-size: 10pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #2b2b2b">print(errors)</span></span></span></span></font></font></font></span></code></pre><p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Метод&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>communicate()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;принимает&nbsp;аргумент&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>input</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,&nbsp;
который используется для передачи
входных данных команде
оболочки.&nbsp;Метод&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>communicate</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;также
возвращает&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stdout</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;и&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>stderr</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;когда
они установлены.</span></span></span></font></font></font></span></p>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Мы
рассмотрели три способа запуска команд
оболочки в Python с использованием
класса&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.&nbsp;Давайте
еще раз рассмотрим их характеристики,
чтобы узнать, какой метод лучше всего
подходит для требований проекта.</span></span></span></font></font></font></span></p>
<h3 class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Какой
из них я должен использовать?</font></font></h3>
<p class="western" style="margin-left: 0.03cm; margin-right: 0.03cm; margin-bottom: 0cm; orphans: 2; widows: 2">
<span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Если
вам нужно выполнить одну или несколько
простых команд и вам не помешает, если
их вывод поступит в консоль, вы можете
использовать команду&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>os.system()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.&nbsp;Если
вы хотите управлять вводом и выводом
команды оболочки, используйте&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subsystem.run()</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.&nbsp;Если
вы хотите выполнить команду и продолжить
выполнять другую работу, пока она
выполняется, используйте&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#b44437"><font face="inherit"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><code>subprocess.Popen</span></b></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">.</span></span></span></font></font></font></span></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Вот
таблица с некоторыми различиями в
юзабилити, которые вы также можете
использовать для обоснования своего
решения:</font></font></p>
<p class="western" style="font-variant: normal; letter-spacing: normal; orphans: 2; widows: 2">
<img src="python_os_subprocess_html_ec7cf44ca37e3700.png" name="Изображение1" align="bottom" width="608" height="156" border="0"/>
</p>
<h4 class="western" style="margin-top: 0cm; margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; orphans: 2; widows: 2">
<font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt">Источник:</font></font></h4>
<ul>
	<li><p class="western" style="margin-bottom: 0cm; border: none; padding: 0cm; orphans: 2; widows: 2">
	<a href="https://stackabuse.com/executing-shell-commands-with-python/"><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent">Executing
	Shell Commands with Python</span></span></span></span></font></font></font></span></a></p>
</ul>
<p class="western" style="margin-bottom: 0cm; orphans: 2; widows: 2"><a href="https://dev-gang.ru/?tag=1"><span style="font-variant: normal"><font color="#000000"><font face="Open Sans, sans-serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent">#Python</span></span></span></span></font></font></font></span></a></p>
<p class="western" align="left" style="margin-bottom: 0cm; line-height: 100%">
<br/>

</p>
<p class="western" align="left" style="margin-bottom: 0cm; line-height: 100%">
<br/>

</p>
<p class="western" align="left" style="margin-bottom: 0cm; line-height: 100%">
<br/>

</p>
</body>
</html>